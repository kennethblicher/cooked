<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Korrekt link til CSS-filen -->
  <link rel="stylesheet" href="./static/styles/global.css">
  <title>JOE and The Juice</title>
</head>

<body>
  <ul>
    <li><img src="./static/img/joeLogo.svg" alt="Logo"></li>
    <li><a href="/home" class="active">Home</a></li>
    <li><a href="/tutorials" class="active">Tutorials</a></li>


  </ul>

  <div class="center">
    <h2>Our Products</h2>
    <div id="product-list">
    </div>
  </div>

<div id="welcomeMessage"></div>


</body>
<script src="./static/scripts/showProducts.js"></script>
<script>
  //checkAuthentication();
</script>
<script> 
  async function checkCookie() {
    console.log("this is working")
    try {
      const response = await fetch("/check-cookie", {
        credentials: "include", // Include cookies in the request
      });
  
      if (response.status === 200) {
        const data = await response.json();
        console.log("Cookie exists:", data.userPhone);
        // Proceed with the page logic
      } else {
        // Redirect if the cookie does not exist
        window.location.href = "/register";
      }
    } catch (error) {
      console.error("Error checking cookie:", error);
      window.location.href = "/register"; // Fallback in case of error
    }
  }
  
  // Check if the cookie exists when the page loads
  checkCookie() 
  </script>

</html>
